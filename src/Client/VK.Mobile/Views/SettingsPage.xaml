<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:VK.Mobile.ViewModels"
             x:Class="VK.Mobile.Views.SettingsPage"
             x:DataType="vm:SettingsViewModel"
             Title="CÃ i Ä‘áº·t"
             BackgroundColor="{StaticResource PageBackground}">

    <ScrollView>
        <VerticalStackLayout Spacing="0"
                Padding="0">

            <!-- Language Section -->
            <Frame Margin="16,16,16,0"
                    Padding="16"
                    BackgroundColor="{StaticResource CardBackground}"
                    BorderColor="Transparent"
                    CornerRadius="12">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸŒ NgÃ´n ngá»¯"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Picker ItemsSource="{Binding AvailableLanguages}"
                            SelectedItem="{Binding SelectedLanguage}"
                            BackgroundColor="{StaticResource PageBackground}"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Button Text="LÆ°u ngÃ´n ngá»¯"
                            Command="{Binding SaveLanguageCommand}"
                            BackgroundColor="{StaticResource Primary}"
                            TextColor="White"
                            HeightRequest="44"
                            CornerRadius="8"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Notifications Section -->
            <Frame Margin="16,16,16,0"
                    Padding="16"
                    BackgroundColor="{StaticResource CardBackground}"
                    BorderColor="Transparent"
                    CornerRadius="12">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸ”” ThÃ´ng bÃ¡o"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Grid ColumnDefinitions="*,Auto">
                        <Label Text="KÃ­ch hoáº¡t thÃ´ng bÃ¡o"
                                VerticalOptions="Center"
                                TextColor="{StaticResource TextPrimary}"/>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding NotificationsEnabled}"
                                OnColor="{StaticResource Primary}"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- Audio Section -->
            <Frame Margin="16,16,16,0"
                    Padding="16"
                    BackgroundColor="{StaticResource CardBackground}"
                    BorderColor="Transparent"
                    CornerRadius="12">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸŽ§ Ã‚m thanh"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Grid ColumnDefinitions="*,Auto">
                        <Label Text="Tá»± Ä‘á»™ng phÃ¡t audio"
                                VerticalOptions="Center"
                                TextColor="{StaticResource TextPrimary}"/>
                        <Switch Grid.Column="1"
                                IsToggled="{Binding AutoPlayAudio}"
                                OnColor="{StaticResource Primary}"/>
                    </Grid>
                </VerticalStackLayout>
            </Frame>

            <!-- Location Section -->
            <Frame Margin="16,16,16,0"
                    Padding="16"
                    BackgroundColor="{StaticResource CardBackground}"
                    BorderColor="Transparent"
                    CornerRadius="12">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸ“ Vá»‹ trÃ­"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Label Text="{Binding GeofenceRadius, StringFormat='BÃ¡n kÃ­nh geofence: {0:F0}m'}"
                            TextColor="{StaticResource TextSecondary}"/>
                    <Slider Minimum="20"
                            Maximum="200"
                            Value="{Binding GeofenceRadius}"
                            MinimumTrackColor="{StaticResource Primary}"
                            MaximumTrackColor="{StaticResource Border}"/>

                    <Label Text="{Binding LocationUpdateInterval, StringFormat='Cáº­p nháº­t vá»‹ trÃ­: {0}s'}"
                            TextColor="{StaticResource TextSecondary}"/>
                    <Slider Minimum="1"
                            Maximum="30"
                            Value="{Binding LocationUpdateInterval}"
                            MinimumTrackColor="{StaticResource Primary}"
                            MaximumTrackColor="{StaticResource Border}"/>

                    <Button Text="LÆ°u cÃ i Ä‘áº·t vá»‹ trÃ­"
                            Command="{Binding SaveGeofenceRadiusCommand}"
                            BackgroundColor="{StaticResource Primary}"
                            TextColor="White"
                            HeightRequest="44"
                            CornerRadius="8"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Storage Section -->
            <Frame Margin="16,16,16,0"
                    Padding="16"
                    BackgroundColor="{StaticResource CardBackground}"
                    BorderColor="Transparent"
                    CornerRadius="12">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸ’¾ Bá»™ nhá»›"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Button Text="XÃ³a bá»™ nhá»› Ä‘á»‡m"
                            Command="{Binding ClearCacheCommand}"
                            BackgroundColor="{StaticResource Warning}"
                            TextColor="White"
                            HeightRequest="44"
                            CornerRadius="8"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Account Section -->
            <Frame Margin="16,16,16,16"
                    Padding="16"
                    BackgroundColor="{StaticResource CardBackground}"
                    BorderColor="Transparent"
                    CornerRadius="12">
                <VerticalStackLayout Spacing="12">
                    <Label Text="ðŸ‘¤ TÃ i khoáº£n"
                            FontSize="18"
                            FontAttributes="Bold"
                            TextColor="{StaticResource TextPrimary}"/>

                    <Button Text="ÄÄƒng xuáº¥t"
                            Command="{Binding LogoutCommand}"
                            BackgroundColor="{StaticResource Error}"
                            TextColor="White"
                            HeightRequest="44"
                            CornerRadius="8"/>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
