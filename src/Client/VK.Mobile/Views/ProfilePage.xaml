<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:VK.Mobile.ViewModels"
             xmlns:loc="clr-namespace:VK.Mobile.Services"
             x:Class="VK.Mobile.Views.ProfilePage"
             x:DataType="vm:ProfileViewModel"
             BackgroundColor="{StaticResource PageBackground}">

    <ScrollView>
        <VerticalStackLayout Spacing="0"
                             Padding="0">

            <!-- Profile Header with Gradient -->
            <Grid HeightRequest="200">
                <BoxView>
                    <BoxView.Background>
                        <LinearGradientBrush StartPoint="0,0"
                                             EndPoint="1,1">
                            <GradientStop Color="#FFF27A4F"
                                          Offset="0.0"/>
                            <GradientStop Color="#FFF27A4F"
                                          Offset="1.0"/>
                        </LinearGradientBrush>
                    </BoxView.Background>
                </BoxView>

                <VerticalStackLayout VerticalOptions="Center"
                                     HorizontalOptions="Center"
                                     Spacing="12">
                    <!-- Avatar -->
                    <Border StrokeShape="RoundRectangle 50"
                            BackgroundColor="White"
                            HeightRequest="100"
                            WidthRequest="100"
                            HorizontalOptions="Center">
                        <Label Text="ðŸ‘¤"
                               FontSize="50"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"/>
                    </Border>

                    <!-- Tourist ID -->
                    <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileTouristTitle]}"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="White"
                           HorizontalTextAlignment="Center"/>

                    <!-- Language Badge -->
                    <Border StrokeShape="RoundRectangle 12"
                            BackgroundColor="#80FFFFFF"
                            Padding="12,6"
                            HorizontalOptions="Center">
                        <Label Text="{Binding PreferredLanguage}"
                               FontSize="14"
                               TextColor="White"/>
                    </Border>
                </VerticalStackLayout>
            </Grid>

            <!-- Stats Section -->
            <Frame Margin="16,-30,16,0"
                   Padding="20"
                   BackgroundColor="{StaticResource CardBackground}"
                   BorderColor="Transparent"
                   CornerRadius="16"
                   Shadow="{StaticResource Shadow}">
                <Grid ColumnDefinitions="*,*"
                      ColumnSpacing="20">
                    <!-- Visits Stat -->
                    <VerticalStackLayout Grid.Column="0"
                                         Spacing="4"
                                         HorizontalOptions="Center">
                        <VerticalStackLayout.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToHistoryCommand}"/>
                        </VerticalStackLayout.GestureRecognizers>
                        <Label Text="{Binding TotalVisits}"
                               FontSize="32"
                               FontAttributes="Bold"
                               TextColor="{StaticResource Primary}"
                               HorizontalTextAlignment="Center"/>
                        <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileVisitedPlaces]}"
                               FontSize="14"
                               TextColor="{StaticResource TextSecondary}"
                               HorizontalTextAlignment="Center"/>
                    </VerticalStackLayout>

                    <!-- Favorites Stat -->
                    <VerticalStackLayout Grid.Column="1"
                                         Spacing="4"
                                         HorizontalOptions="Center">
                        <VerticalStackLayout.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding NavigateToFavoritesCommand}"/>
                        </VerticalStackLayout.GestureRecognizers>
                        <Label Text="{Binding TotalFavorites}"
                               FontSize="32"
                               FontAttributes="Bold"
                               TextColor="{StaticResource FavoriteActive}"
                               HorizontalTextAlignment="Center"/>
                        <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[TabFavorites]}"
                               FontSize="14"
                               TextColor="{StaticResource TextSecondary}"
                               HorizontalTextAlignment="Center"/>
                    </VerticalStackLayout>
                </Grid>
            </Frame>

            <!-- Menu Items -->
            <VerticalStackLayout Spacing="0"
                                 Margin="16,20,16,0">

                <!-- History -->
                <Frame Padding="0"
                       BackgroundColor="{StaticResource CardBackground}"
                       BorderColor="Transparent"
                       CornerRadius="12"
                       Margin="0,0,0,12">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToHistoryCommand}"/>
                    </Frame.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto"
                          Padding="16">
                        <Border Grid.Column="0"
                                StrokeShape="RoundRectangle 10"
                                BackgroundColor="{StaticResource Primary}"
                                WidthRequest="44"
                                HeightRequest="44">
                            <Label Text="ðŸ“œ"
                                   FontSize="20"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"/>
                        </Border>
                        <VerticalStackLayout Grid.Column="1"
                                             VerticalOptions="Center"
                                             Padding="12,0,0,0">
                            <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileVisitHistory]}"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"/>
                            <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileVisitHistoryDesc]}"
                                   FontSize="12"
                                   TextColor="{StaticResource TextSecondary}"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2"
                               Text="â€º"
                               FontSize="24"
                               TextColor="{StaticResource TextSecondary}"
                               VerticalOptions="Center"/>
                    </Grid>
                </Frame>

                <!-- Favorites -->
                <Frame Padding="0"
                       BackgroundColor="{StaticResource CardBackground}"
                       BorderColor="Transparent"
                       CornerRadius="12"
                       Margin="0,0,0,12">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToFavoritesCommand}"/>
                    </Frame.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto"
                          Padding="16">
                        <Border Grid.Column="0"
                                StrokeShape="RoundRectangle 10"
                                BackgroundColor="{StaticResource FavoriteActive}"
                                WidthRequest="44"
                                HeightRequest="44">
                            <Label Text="â¤ï¸"
                                   FontSize="20"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"/>
                        </Border>
                        <VerticalStackLayout Grid.Column="1"
                                             VerticalOptions="Center"
                                             Padding="12,0,0,0">
                            <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileFavoritePlaces]}"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"/>
                            <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileFavoritePlacesDesc]}"
                                   FontSize="12"
                                   TextColor="{StaticResource TextSecondary}"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2"
                               Text="â€º"
                               FontSize="24"
                               TextColor="{StaticResource TextSecondary}"
                               VerticalOptions="Center"/>
                    </Grid>
                </Frame>

                <!-- Settings -->
                <Frame Padding="0"
                       BackgroundColor="{StaticResource CardBackground}"
                       BorderColor="Transparent"
                       CornerRadius="12"
                       Margin="0,0,0,12">
                    <Frame.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding NavigateToSettingsCommand}"/>
                    </Frame.GestureRecognizers>
                    <Grid ColumnDefinitions="Auto,*,Auto"
                          Padding="16">
                        <Border Grid.Column="0"
                                StrokeShape="RoundRectangle 10"
                                BackgroundColor="{StaticResource Secondary}"
                                WidthRequest="44"
                                HeightRequest="44">
                            <Label Text="âš™ï¸"
                                   FontSize="20"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"/>
                        </Border>
                        <VerticalStackLayout Grid.Column="1"
                                             VerticalOptions="Center"
                                             Padding="12,0,0,0">
                            <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[TabSettings]}"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="{StaticResource TextPrimary}"/>
                            <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[ProfileSettingsDesc]}"
                                   FontSize="12"
                                   TextColor="{StaticResource TextSecondary}"/>
                        </VerticalStackLayout>
                        <Label Grid.Column="2"
                               Text="â€º"
                               FontSize="24"
                               TextColor="{StaticResource TextSecondary}"
                               VerticalOptions="Center"/>
                    </Grid>
                </Frame>

            </VerticalStackLayout>

            <!-- App Info -->
            <Frame Margin="16,20,16,30"
                   Padding="20"
                   BackgroundColor="{StaticResource CardBackground}"
                   BorderColor="Transparent"
                   CornerRadius="12">
                <VerticalStackLayout Spacing="4"
                                     HorizontalOptions="Center">
                    <Label Text="ðŸœ"
                           FontSize="32"
                           HorizontalOptions="Center"/>
                    <Label Text="VK Street Food"
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="{StaticResource TextPrimary}"
                           HorizontalTextAlignment="Center"/>
                    <Label Text="{Binding Source={x:Static loc:LocalizationResourceManager.Instance}, Path=[AppVersion]}"
                           FontSize="12"
                           TextColor="{StaticResource TextSecondary}"
                           HorizontalTextAlignment="Center"/>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
