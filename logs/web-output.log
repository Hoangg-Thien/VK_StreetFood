Using launch settings from D:\VK_StreetFood\src\Server\VK.Web\Properties\launchSettings.json...
Building...
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5117
info: Microsoft.Hosting.Lifetime[0]
      Application started. Press Ctrl+C to shut down.
info: Microsoft.Hosting.Lifetime[0]
      Hosting environment: Development
info: Microsoft.Hosting.Lifetime[0]
      Content root path: D:\VK_StreetFood\src\Server\VK.Web
warn: Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware[3]
      Failed to determine the https port for redirect.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (75ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "PointsOfInterest" AS p
      WHERE NOT (p."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "VisitLogs" AS v
      WHERE NOT (v."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (71ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT avg(r."Score"::double precision)
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (70ms) [Parameters=[@last7Days='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      SELECT v0."Key" AS "Date", count(*)::int AS "Count"
      FROM (
          SELECT date_trunc('day', v."VisitedAt", 'UTC') AS "Key"
          FROM "VisitLogs" AS v
          WHERE NOT (v."IsDeleted") AND NOT (v."IsDeleted") AND v."VisitedAt" >= @last7Days
      ) AS v0
      GROUP BY v0."Key"
      ORDER BY v0."Key"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT p0."Name" AS "POIName", count(*)::int AS "VisitCount"
      FROM "VisitLogs" AS v
      INNER JOIN (
          SELECT p."Id", p."Name"
          FROM "PointsOfInterest" AS p
          WHERE NOT (p."IsDeleted")
      ) AS p0 ON v."PointOfInterestId" = p0."Id"
      WHERE NOT (v."IsDeleted")
      GROUP BY v."PointOfInterestId", p0."Name"
      ORDER BY count(*)::int DESC
      LIMIT @p
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (72ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT t."PreferredLanguage" AS "Language", count(*)::int AS "Count"
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
      GROUP BY t."PreferredLanguage"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (109ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "PointsOfInterest" AS p
      WHERE NOT (p."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (62ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "VisitLogs" AS v
      WHERE NOT (v."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (64ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (63ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT avg(r."Score"::double precision)
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (67ms) [Parameters=[@last7Days='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      SELECT v0."Key" AS "Date", count(*)::int AS "Count"
      FROM (
          SELECT date_trunc('day', v."VisitedAt", 'UTC') AS "Key"
          FROM "VisitLogs" AS v
          WHERE NOT (v."IsDeleted") AND NOT (v."IsDeleted") AND v."VisitedAt" >= @last7Days
      ) AS v0
      GROUP BY v0."Key"
      ORDER BY v0."Key"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (69ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT p0."Name" AS "POIName", count(*)::int AS "VisitCount"
      FROM "VisitLogs" AS v
      INNER JOIN (
          SELECT p."Id", p."Name"
          FROM "PointsOfInterest" AS p
          WHERE NOT (p."IsDeleted")
      ) AS p0 ON v."PointOfInterestId" = p0."Id"
      WHERE NOT (v."IsDeleted")
      GROUP BY v."PointOfInterestId", p0."Name"
      ORDER BY count(*)::int DESC
      LIMIT @p
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT t."PreferredLanguage" AS "Language", count(*)::int AS "Count"
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
      GROUP BY t."PreferredLanguage"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (93ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT p."Id", p."Address", p."AverageRating", p."CategoryId", p."CreatedAt", p."DeletedAt", p."Description", p."ImageUrl", p."IsActive", p."IsDeleted", p."Latitude", p."Longitude", p."Name", p."QRCode", p."TotalRatings", p."UpdatedAt", c0."Id", c0."CreatedAt", c0."DeletedAt", c0."Description", c0."DisplayOrder", c0."IconUrl", c0."IsActive", c0."IsDeleted", c0."Name", c0."UpdatedAt"
      FROM "PointsOfInterest" AS p
      LEFT JOIN (
          SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
          FROM "Categories" AS c
          WHERE NOT (c."IsDeleted")
      ) AS c0 ON p."CategoryId" = c0."Id"
      WHERE NOT (p."IsDeleted")
      ORDER BY p."Name"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
      FROM "Categories" AS c
      WHERE NOT (c."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (60ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "PointsOfInterest" AS p
      WHERE NOT (p."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "VisitLogs" AS v
      WHERE NOT (v."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT avg(r."Score"::double precision)
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[@last7Days='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      SELECT v0."Key" AS "Date", count(*)::int AS "Count"
      FROM (
          SELECT date_trunc('day', v."VisitedAt", 'UTC') AS "Key"
          FROM "VisitLogs" AS v
          WHERE NOT (v."IsDeleted") AND NOT (v."IsDeleted") AND v."VisitedAt" >= @last7Days
      ) AS v0
      GROUP BY v0."Key"
      ORDER BY v0."Key"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (67ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT p0."Name" AS "POIName", count(*)::int AS "VisitCount"
      FROM "VisitLogs" AS v
      INNER JOIN (
          SELECT p."Id", p."Name"
          FROM "PointsOfInterest" AS p
          WHERE NOT (p."IsDeleted")
      ) AS p0 ON v."PointOfInterestId" = p0."Id"
      WHERE NOT (v."IsDeleted")
      GROUP BY v."PointOfInterestId", p0."Name"
      ORDER BY count(*)::int DESC
      LIMIT @p
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT t."PreferredLanguage" AS "Language", count(*)::int AS "Count"
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
      GROUP BY t."PreferredLanguage"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (66ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT p."Id", p."Address", p."AverageRating", p."CategoryId", p."CreatedAt", p."DeletedAt", p."Description", p."ImageUrl", p."IsActive", p."IsDeleted", p."Latitude", p."Longitude", p."Name", p."QRCode", p."TotalRatings", p."UpdatedAt", c0."Id", c0."CreatedAt", c0."DeletedAt", c0."Description", c0."DisplayOrder", c0."IconUrl", c0."IsActive", c0."IsDeleted", c0."Name", c0."UpdatedAt"
      FROM "PointsOfInterest" AS p
      LEFT JOIN (
          SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
          FROM "Categories" AS c
          WHERE NOT (c."IsDeleted")
      ) AS c0 ON p."CategoryId" = c0."Id"
      WHERE NOT (p."IsDeleted")
      ORDER BY p."Name"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
      FROM "Categories" AS c
      WHERE NOT (c."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (56ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "PointsOfInterest" AS p
      WHERE NOT (p."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (62ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "VisitLogs" AS v
      WHERE NOT (v."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT count(*)::int
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT avg(r."Score"::double precision)
      FROM "Ratings" AS r
      WHERE NOT (r."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[@last7Days='?' (DbType = DateTime)], CommandType='Text', CommandTimeout='30']
      SELECT v0."Key" AS "Date", count(*)::int AS "Count"
      FROM (
          SELECT date_trunc('day', v."VisitedAt", 'UTC') AS "Key"
          FROM "VisitLogs" AS v
          WHERE NOT (v."IsDeleted") AND NOT (v."IsDeleted") AND v."VisitedAt" >= @last7Days
      ) AS v0
      GROUP BY v0."Key"
      ORDER BY v0."Key"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (59ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT p0."Name" AS "POIName", count(*)::int AS "VisitCount"
      FROM "VisitLogs" AS v
      INNER JOIN (
          SELECT p."Id", p."Name"
          FROM "PointsOfInterest" AS p
          WHERE NOT (p."IsDeleted")
      ) AS p0 ON v."PointOfInterestId" = p0."Id"
      WHERE NOT (v."IsDeleted")
      GROUP BY v."PointOfInterestId", p0."Name"
      ORDER BY count(*)::int DESC
      LIMIT @p
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (57ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT t."PreferredLanguage" AS "Language", count(*)::int AS "Count"
      FROM "Tourists" AS t
      WHERE NOT (t."IsDeleted")
      GROUP BY t."PreferredLanguage"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (65ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT p."Id", p."Address", p."AverageRating", p."CategoryId", p."CreatedAt", p."DeletedAt", p."Description", p."ImageUrl", p."IsActive", p."IsDeleted", p."Latitude", p."Longitude", p."Name", p."QRCode", p."TotalRatings", p."UpdatedAt", c0."Id", c0."CreatedAt", c0."DeletedAt", c0."Description", c0."DisplayOrder", c0."IconUrl", c0."IsActive", c0."IsDeleted", c0."Name", c0."UpdatedAt"
      FROM "PointsOfInterest" AS p
      LEFT JOIN (
          SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
          FROM "Categories" AS c
          WHERE NOT (c."IsDeleted")
      ) AS c0 ON p."CategoryId" = c0."Id"
      WHERE NOT (p."IsDeleted")
      ORDER BY p."Name"
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (58ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
      FROM "Categories" AS c
      WHERE NOT (c."IsDeleted")
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (64ms) [Parameters=[@id='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT p."Id", p."Address", p."AverageRating", p."CategoryId", p."CreatedAt", p."DeletedAt", p."Description", p."ImageUrl", p."IsActive", p."IsDeleted", p."Latitude", p."Longitude", p."Name", p."QRCode", p."TotalRatings", p."UpdatedAt", c0."Id", c0."CreatedAt", c0."DeletedAt", c0."Description", c0."DisplayOrder", c0."IconUrl", c0."IsActive", c0."IsDeleted", c0."Name", c0."UpdatedAt"
      FROM "PointsOfInterest" AS p
      LEFT JOIN (
          SELECT c."Id", c."CreatedAt", c."DeletedAt", c."Description", c."DisplayOrder", c."IconUrl", c."IsActive", c."IsDeleted", c."Name", c."UpdatedAt"
          FROM "Categories" AS c
          WHERE NOT (c."IsDeleted")
      ) AS c0 ON p."CategoryId" = c0."Id"
      WHERE NOT (p."IsDeleted") AND p."Id" = @id AND NOT (p."IsDeleted")
      LIMIT 1
fail: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[3]
      The view 'Delete' was not found. Searched locations: /Views/POI/Delete.cshtml, /Views/Shared/Delete.cshtml
fail: Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware[1]
      An unhandled exception has occurred while executing the request.
      System.InvalidOperationException: The view 'Delete' was not found. The following locations were searched:
      /Views/POI/Delete.cshtml
      /Views/Shared/Delete.cshtml
         at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
         at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
         at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
      --- End of stack trace from previous location ---
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
         at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
         at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
         at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
         at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
